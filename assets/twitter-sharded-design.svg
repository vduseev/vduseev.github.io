<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="317px" preserveAspectRatio="none" style="width:529px;height:317px;" version="1.1" viewBox="0 0 529 317" width="529px" zoomAndPan="magnify"><defs><filter height="300%" id="f18gq1uin1wvp0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster app_cluster--><polygon fill="#FFFFFF" filter="url(#f18gq1uin1wvp0)" points="26,26,36,16,197,16,197,85,187,95,26,95,26,26" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="187" x2="196" y1="26" y2="17"/><line style="stroke: #000000; stroke-width: 1.5;" x1="26" x2="187" y1="26" y2="26"/><line style="stroke: #000000; stroke-width: 1.5;" x1="187" x2="187" y1="26" y2="95"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="66.5" y="42.5352">App cluster</text><!--cluster tweets--><polygon fill="#FFFFFF" filter="url(#f18gq1uin1wvp0)" points="14,125,24,115,251,115,251,295,241,305,14,305,14,125" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="241" x2="250" y1="125" y2="116"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="241" y1="125" y2="125"/><line style="stroke: #000000; stroke-width: 1.5;" x1="241" x2="241" y1="125" y2="305"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="97" x="80" y="141.5352">Tweet shards</text><!--cluster index--><polygon fill="#FFFFFF" filter="url(#f18gq1uin1wvp0)" points="270,125,280,115,507,115,507,295,497,305,270,305,270,125" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="497" x2="506" y1="125" y2="116"/><line style="stroke: #000000; stroke-width: 1.5;" x1="270" x2="497" y1="125" y2="125"/><line style="stroke: #000000; stroke-width: 1.5;" x1="497" x2="497" y1="125" y2="305"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="92" x="338.5" y="141.5352">Index shards</text><!--entity app--><rect fill="#FEFECE" filter="url(#f18gq1uin1wvp0)" height="39.4883" style="stroke: #000000; stroke-width: 1.5;" width="119" x="34.5" y="48"/><polygon fill="#FEFECE" points="136.5,53,136.5,67,148.5,67,148.5,59,142.5,53,136.5,53" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="142.5" x2="142.5" y1="53" y2="59"/><line style="stroke: #000000; stroke-width: 1.5;" x1="148.5" x2="142.5" y1="59" y2="59"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="44.5" y="74.5352">Backend App</text><!--entity shard_1--><path d="M57.5,157 C57.5,147 95,147 95,147 C95,147 132.5,147 132.5,157 L132.5,182.4883 C132.5,192.4883 95,192.4883 95,192.4883 C95,192.4883 57.5,192.4883 57.5,182.4883 L57.5,157 " fill="#FEFECE" filter="url(#f18gq1uin1wvp0)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M57.5,157 C57.5,167 95,167 95,167 C95,167 132.5,167 132.5,157 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="67.5" y="184.5352">shard_1</text><!--entity shard_2--><path d="M167.5,157 C167.5,147 205,147 205,147 C205,147 242.5,147 242.5,157 L242.5,182.4883 C242.5,192.4883 205,192.4883 205,192.4883 C205,192.4883 167.5,192.4883 167.5,182.4883 L167.5,157 " fill="#FEFECE" filter="url(#f18gq1uin1wvp0)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M167.5,157 C167.5,167 205,167 205,167 C205,167 242.5,167 242.5,157 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="177.5" y="184.5352">shard_2</text><!--entity shard_3--><path d="M57.5,262 C57.5,252 95,252 95,252 C95,252 132.5,252 132.5,262 L132.5,287.4883 C132.5,297.4883 95,297.4883 95,297.4883 C95,297.4883 57.5,297.4883 57.5,287.4883 L57.5,262 " fill="#FEFECE" filter="url(#f18gq1uin1wvp0)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M57.5,262 C57.5,272 95,272 95,272 C95,272 132.5,272 132.5,262 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="67.5" y="289.5352">shard_3</text><!--entity index_1--><path d="M313.5,157 C313.5,147 351,147 351,147 C351,147 388.5,147 388.5,157 L388.5,182.4883 C388.5,192.4883 351,192.4883 351,192.4883 C351,192.4883 313.5,192.4883 313.5,182.4883 L313.5,157 " fill="#FEFECE" filter="url(#f18gq1uin1wvp0)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M313.5,157 C313.5,167 351,167 351,167 C351,167 388.5,167 388.5,157 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="323.5" y="184.5352">index_1</text><!--entity index_2--><path d="M423.5,157 C423.5,147 461,147 461,147 C461,147 498.5,147 498.5,157 L498.5,182.4883 C498.5,192.4883 461,192.4883 461,192.4883 C461,192.4883 423.5,192.4883 423.5,182.4883 L423.5,157 " fill="#FEFECE" filter="url(#f18gq1uin1wvp0)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M423.5,157 C423.5,167 461,167 461,167 C461,167 498.5,167 498.5,157 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="433.5" y="184.5352">index_2</text><!--entity index_3--><path d="M313.5,262 C313.5,252 351,252 351,252 C351,252 388.5,252 388.5,262 L388.5,287.4883 C388.5,297.4883 351,297.4883 351,297.4883 C351,297.4883 313.5,297.4883 313.5,287.4883 L313.5,262 " fill="#FEFECE" filter="url(#f18gq1uin1wvp0)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M313.5,262 C313.5,272 351,272 351,272 C351,272 388.5,272 388.5,262 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="323.5" y="289.5352">index_3</text><!--link app_cluster to tweets--><path d="M171,95 C146.2291,110.9252 124.7251,106.421 103.7909,102.6876 C93.3237,100.8209 82.999,99.1469 72.4796,100.3157 C67.2199,100.9 61.9115,102.1951 56.5123,104.532 C53.8127,105.7005 51.0904,107.1295 48.3401,108.8604 C46.9649,109.7258 45.5828,110.6667 44.193,111.6882 C43.4981,112.199 42.8013,112.7299 42.1025,113.2817 C41.7531,113.5576 41.4032,113.8386 41.0528,114.125 C40.8776,114.2682 40.7022,114.4127 40.5268,114.5585 " fill="none" id="app_cluster-tweets" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="40.5268,114.5585,50.005,111.8821,44.372,111.3626,44.8915,105.7296,40.5268,114.5585" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="171,95,161.2664,96.5024,166.7942,97.7039,165.5927,103.2317,171,95" style="stroke: #A80036; stroke-width: 1.0;"/><!--link app_cluster to index--><path d="M197.098,70.8991 C197.1693,70.931 197.2411,70.9631 197.3131,70.9954 C197.4573,71.0601 197.603,71.1256 197.7502,71.192 C198.3391,71.4577 198.952,71.7372 199.5872,72.0304 C204.6685,74.3766 211.1744,77.6037 218.187,81.6402 C232.2121,89.7131 248.264,101.0237 259,115 C262.6625,119.7679 265.6519,125.2946 268.0825,130.9625 C268.6902,132.3795 269.2629,133.8053 269.8025,135.2303 C269.8362,135.3193 269.8698,135.4084 269.9033,135.4975 " fill="none" id="app_cluster-index" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="269.9033,135.4975,270.4815,125.6656,268.1444,130.8171,262.9929,128.4799,269.9033,135.4975" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="197.098,70.8991,203.6809,78.2248,201.6624,72.9403,206.9469,70.9218,197.098,70.8991" style="stroke: #A80036; stroke-width: 1.0;"/><!--link shard_1 to shard_2--><!--link shard_1 to shard_3--><!--link index_1 to index_2--><!--link index_1 to index_3--><!--
@startuml

node "App cluster" as app_cluster {
  artifact "Backend App" as app
}

node "Tweet shards" as tweets {
  database shard_1
  database shard_2
  database shard_3
}

node "Index shards" as index {
  database index_1
  database index_2
  database index_3
}

app_cluster <- -> tweets
app_cluster <- -> index

@enduml

PlantUML version 1.2018.05(Sun May 06 03:00:17 GMT+07:00 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 10+46
Operating System: Mac OS X
OS Version: 10.13.4
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>